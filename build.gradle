plugins {
    id "com.github.johnrengelman.shadow" version "5.2.0"
}

tasks.findByName('wrapper').configure {
    gradleVersion = '6.2'
    distributionUrl = "https://services.gradle.org/distributions/gradle-$gradleVersion-all.zip"
}

apply plugin: 'java'

group 'org.comroid'
version '0' //unused

project(':plugin').version = '0.1.0-SNAPSHOT'
project(':plugin-api').version = '0.1.0-SNAPSHOT'

ext {
    pluginDescription = 'comroid Core Plugin'
}

subprojects {
    apply plugin: 'java'
    
    group rootProject.group

    sourceCompatibility = 1.8
    targetCompatibility = 1.8

    processResources {
        from(sourceSets.main.resources) {
            expand project.properties
        }
    }

    compileJava.options.encoding = "UTF-8"

    repositories {
        jcenter()
        
        maven {
            url "https://maven.jetbrains.space/comroid/repo"
            credentials.username "Anonymous.User"
            credentials.password "anonymous"
        }
    }

    dependencies {
        compileOnly fileTree("$rootDir/libs")

        compileOnly 'org.jetbrains:annotations:19.0.0'
    }
}
